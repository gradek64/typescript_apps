{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useRef, useState, useMemo } from 'react';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport styled from 'styled-components'; //styles\n\nconst AccordionHeader = styled.button`\n  display: flex;\n  width: 100%;\n  height: 30px;\n  align-items: center;\n  padding: 10px;\n  justify-content: space-between;\n  border: none;\n  &.active {\n    background-color: orange;\n  }\n`;\nconst AccordionContent = styled.div`\n  overflow: hidden;\n  width: 100%;\n  transition: height 0.6s ease;\n`;\nconst ChevronIcon = styled.span`\n  transition: transform 0.6s ease;\n  &.rotate {\n    transform: rotate(90deg);\n  }\n`;\n\nfunction Accordion(props) {\n  var _refContent$current, _refContent$current2, _refContent$current3;\n\n  const {\n    children,\n    calculateHeight,\n    name\n  } = props;\n  const refContent = useRef(null);\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState('');\n  const elementHeight = (_refContent$current = refContent.current) === null || _refContent$current === void 0 ? void 0 : _refContent$current.scrollHeight;\n  useMemo(() => calculateHeight({\n    name,\n    value: elementHeight\n  }), [elementHeight, name, calculateHeight]);\n\n  const openAccordion = () => {\n    setOpen(!isOpen ? 'active' : '');\n  };\n\n  console.log('Number(refContent.current?.scrollHeight', Number((_refContent$current2 = refContent.current) === null || _refContent$current2 === void 0 ? void 0 : _refContent$current2.scrollHeight));\n  return __jsx(\"div\", {\n    className: \"accordion\"\n  }, __jsx(AccordionHeader, {\n    className: `accordionHeader ${isOpen}`,\n    onClick: openAccordion\n  }, __jsx(\"span\", {\n    className: \"accordionTitle\"\n  }, \"AccordionTitle\"), __jsx(ChevronIcon, {\n    className: !!isOpen && 'rotate'\n  }, __jsx(ChevronRightIcon, null))), __jsx(AccordionContent, {\n    ref: refContent,\n    style: {\n      height: `${isOpen !== '' ? Number((_refContent$current3 = refContent.current) === null || _refContent$current3 === void 0 ? void 0 : _refContent$current3.scrollHeight) * 2 : 0}px`\n    }\n  }, children));\n}\n\nexport default Accordion;","map":{"version":3,"sources":["/Users/gilg/dev/job_tests/fe-tech-test-greg-gil/apps/fe-wtc-tech-test/app/contentComponents/Accordion/Accordion.tsx"],"names":["React","useRef","useState","useMemo","ChevronRightIcon","styled","AccordionHeader","button","AccordionContent","div","ChevronIcon","span","Accordion","props","children","calculateHeight","name","refContent","isOpen","setOpen","elementHeight","current","scrollHeight","value","openAccordion","console","log","Number","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,OAAlC,QAAiD,OAAjD;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,MAAMC,eAAe,GAAGD,MAAM,CAACE,MAAO;;;;;;;;;;;CAAtC;AAaA,MAAMC,gBAAgB,GAAGH,MAAM,CAACI,GAAI;;;;CAApC;AAMA,MAAMC,WAAW,GAAGL,MAAM,CAACM,IAAK;;;;;CAAhC;;AAaA,SAASC,SAAT,CAAmBC,KAAnB,EAAkC;AAAA;;AAChC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,eAAZ;AAA6BC,IAAAA;AAA7B,MAAsCH,KAA5C;AAEA,QAAMI,UAAU,GAAGhB,MAAM,CAAiB,IAAjB,CAAzB;AAEA,QAAM;AAAA,OAACiB,MAAD;AAAA,OAASC;AAAT,MAAoBjB,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMkB,aAAa,0BAAGH,UAAU,CAACI,OAAd,wDAAG,oBAAoBC,YAA1C;AACAnB,EAAAA,OAAO,CAAC,MAAMY,eAAe,CAAC;AAAEC,IAAAA,IAAF;AAAQO,IAAAA,KAAK,EAAEH;AAAf,GAAD,CAAtB,EAAwD,CAC7DA,aAD6D,EAE7DJ,IAF6D,EAG7DD,eAH6D,CAAxD,CAAP;;AAMA,QAAMS,aAAa,GAAG,MAAM;AAC1BL,IAAAA,OAAO,CAAC,CAACD,MAAD,GAAU,QAAV,GAAqB,EAAtB,CAAP;AACD,GAFD;;AAGAO,EAAAA,OAAO,CAACC,GAAR,CACE,yCADF,EAEEC,MAAM,yBAACV,UAAU,CAACI,OAAZ,yDAAC,qBAAoBC,YAArB,CAFR;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,eAAD;AACE,IAAA,SAAS,EAAG,mBAAkBJ,MAAO,EADvC;AAEE,IAAA,OAAO,EAAEM;AAFX,KAIE;AAAM,IAAA,SAAS,EAAC;AAAhB,sBAJF,EAKE,MAAC,WAAD;AAAa,IAAA,SAAS,EAAE,CAAC,CAACN,MAAF,IAAY;AAApC,KACE,MAAC,gBAAD,OADF,CALF,CADF,EAUE,MAAC,gBAAD;AACE,IAAA,GAAG,EAAED,UADP;AAEE,IAAA,KAAK,EAAE;AACLW,MAAAA,MAAM,EAAG,GACPV,MAAM,KAAK,EAAX,GAAgBS,MAAM,yBAACV,UAAU,CAACI,OAAZ,yDAAC,qBAAoBC,YAArB,CAAN,GAA2C,CAA3D,GAA+D,CAChE;AAHI;AAFT,KAQGR,QARH,CAVF,CADF;AAuBD;;AAED,eAAeF,SAAf","sourcesContent":["import React, { useRef, useState, useMemo } from 'react';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport styled from 'styled-components';\n\n//styles\nconst AccordionHeader = styled.button`\n  display: flex;\n  width: 100%;\n  height: 30px;\n  align-items: center;\n  padding: 10px;\n  justify-content: space-between;\n  border: none;\n  &.active {\n    background-color: orange;\n  }\n`;\n\nconst AccordionContent = styled.div`\n  overflow: hidden;\n  width: 100%;\n  transition: height 0.6s ease;\n`;\n\nconst ChevronIcon = styled.span`\n  transition: transform 0.6s ease;\n  &.rotate {\n    transform: rotate(90deg);\n  }\n`;\n\ninterface PropsI {\n  children: React.ReactNode;\n  forceHeight?: number;\n  name: string;\n  calculateHeight: ({ name: string, value: number }) => void;\n}\nfunction Accordion(props: PropsI) {\n  const { children, calculateHeight, name } = props;\n\n  const refContent = useRef<HTMLDivElement>(null);\n\n  const [isOpen, setOpen] = useState('');\n\n  const elementHeight = refContent.current?.scrollHeight;\n  useMemo(() => calculateHeight({ name, value: elementHeight }), [\n    elementHeight,\n    name,\n    calculateHeight,\n  ]);\n\n  const openAccordion = () => {\n    setOpen(!isOpen ? 'active' : '');\n  };\n  console.log(\n    'Number(refContent.current?.scrollHeight',\n    Number(refContent.current?.scrollHeight)\n  );\n  return (\n    <div className=\"accordion\">\n      <AccordionHeader\n        className={`accordionHeader ${isOpen}`}\n        onClick={openAccordion}\n      >\n        <span className=\"accordionTitle\">AccordionTitle</span>\n        <ChevronIcon className={!!isOpen && 'rotate'}>\n          <ChevronRightIcon />\n        </ChevronIcon>\n      </AccordionHeader>\n      <AccordionContent\n        ref={refContent}\n        style={{\n          height: `${\n            isOpen !== '' ? Number(refContent.current?.scrollHeight) * 2 : 0\n          }px`,\n        }}\n      >\n        {children}\n      </AccordionContent>\n    </div>\n  );\n}\n\nexport default Accordion;\n"]},"metadata":{},"sourceType":"module"}