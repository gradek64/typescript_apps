{"ast":null,"code":"export const calculateAvarageRatings = Ratings => {\n  const percentageValue = [];\n  const overAllPerc = Ratings.map(({\n    Value\n  }) => Value).reduce((avaragePerc, rating, index) => {\n    if (rating.includes('/')) {\n      const [ratio, all] = rating.split('/').map(value => Number(value));\n      const calcPercentage = ratio * 100 / all;\n      percentageValue.push(calcPercentage);\n    }\n\n    if (rating.includes('%')) {\n      const value = rating.match(/\\d+/)[0];\n      const percentage = Number(value);\n      percentageValue.push(percentage);\n    }\n\n    if (index === Ratings.length - 1) {\n      const sumPercentage = percentageValue.reduce((acc, value) => acc + value);\n      avaragePerc = sumPercentage / Ratings.length;\n      const avaragePercFloat = parseFloat(String(avaragePerc)).toFixed(2);\n      return Number(avaragePercFloat);\n    }\n\n    return 0;\n  }, 0);\n  return overAllPerc;\n};","map":{"version":3,"sources":["/Users/gilg/dev/job_tests/fe-tech-test-greg-gil/apps/fe-wtc-tech-test/app/contentComponents/Card/CardUtills/calculateAvarageRating.ts"],"names":["calculateAvarageRatings","Ratings","percentageValue","overAllPerc","Value","rating","value","Number","calcPercentage","ratio","percentage","index","sumPercentage","acc","avaragePerc","avaragePercFloat","parseFloat","String"],"mappings":"AAAA,OAAO,MAAMA,uBAAuB,GAAIC,OAAD,IAAmB;AACxD,QAAMC,eAAyB,GAA/B,EAAA;AAEA,QAAMC,WAAW,GAAG,OAAO,CAAP,GAAA,CAClB,CAAC;AAAEC,IAAAA;AAAF,GAAD,KADkB,KAAA,EAAA,MAAA,CAEX,CAAA,WAAA,EAAA,MAAA,EAAA,KAAA,KAAwC;AAC/C,QAAIC,MAAM,CAANA,QAAAA,CAAJ,GAAIA,CAAJ,EAA0B;AACxB,YAAM,CAAA,KAAA,EAAA,GAAA,IAAeA,MAAM,CAANA,KAAAA,CAAAA,GAAAA,EAAAA,GAAAA,CAAuBC,KAAD,IAAWC,MAAM,CAA5D,KAA4D,CAAvCF,CAArB;AACA,YAAMG,cAAc,GAAIC,KAAK,GAAN,GAACA,GAAxB,GAAA;AACAP,MAAAA,eAAe,CAAfA,IAAAA,CAAAA,cAAAA;AACD;;AAED,QAAIG,MAAM,CAANA,QAAAA,CAAJ,GAAIA,CAAJ,EAA0B;AACxB,YAAMC,KAAK,GAAGD,MAAM,CAANA,KAAAA,CAAAA,KAAAA,EAAd,CAAcA,CAAd;AACA,YAAMK,UAAU,GAAGH,MAAM,CAAzB,KAAyB,CAAzB;AACAL,MAAAA,eAAe,CAAfA,IAAAA,CAAAA,UAAAA;AACD;;AAED,QAAIS,KAAK,KAAKV,OAAO,CAAPA,MAAAA,GAAd,CAAA,EAAkC;AAChC,YAAMW,aAAa,GAAGV,eAAe,CAAfA,MAAAA,CAAuB,CAAA,GAAA,EAAA,KAAA,KAAgBW,GAAG,GAAhE,KAAsBX,CAAtB;AAEAY,MAAAA,WAAW,GAAGF,aAAa,GAAGX,OAAO,CAArCa,MAAAA;AACA,YAAMC,gBAAgB,GAAGC,UAAU,CAACC,MAAM,CAAjBD,WAAiB,CAAP,CAAVA,CAAAA,OAAAA,CAAzB,CAAyBA,CAAzB;AACA,aAAOT,MAAM,CAAb,gBAAa,CAAb;AACD;;AACD,WAAA,CAAA;AAtBkB,GAAA,EAApB,CAAoB,CAApB;AAyBA,SAAA,WAAA;AA5BK,CAAA","sourcesContent":["export const calculateAvarageRatings = (Ratings: {}[]) => {\n  const percentageValue: number[] = [];\n\n  const overAllPerc = Ratings.map(\n    ({ Value }: { Value: string }) => Value\n  ).reduce((avaragePerc, rating, index): number => {\n    if (rating.includes('/')) {\n      const [ratio, all] = rating.split('/').map((value) => Number(value));\n      const calcPercentage = (ratio * 100) / all;\n      percentageValue.push(calcPercentage);\n    }\n\n    if (rating.includes('%')) {\n      const value = rating.match(/\\d+/)[0];\n      const percentage = Number(value);\n      percentageValue.push(percentage);\n    }\n\n    if (index === Ratings.length - 1) {\n      const sumPercentage = percentageValue.reduce((acc, value) => acc + value);\n\n      avaragePerc = sumPercentage / Ratings.length;\n      const avaragePercFloat = parseFloat(String(avaragePerc)).toFixed(2);\n      return Number(avaragePercFloat);\n    }\n    return 0;\n  }, 0);\n\n  return overAllPerc;\n};\n"]},"metadata":{},"sourceType":"module"}